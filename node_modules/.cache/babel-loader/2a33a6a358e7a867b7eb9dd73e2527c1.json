{"ast":null,"code":"import _classCallCheck from\"/home/parth/development/full_stack/djReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/parth/development/full_stack/djReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/parth/development/full_stack/djReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/parth/development/full_stack/djReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button,Form,FormGroup,Label,Input}from\"reactstrap\";import axios from\"axios\";var CustomForm=/*#__PURE__*/function(_Component){_inherits(CustomForm,_Component);var _super=_createSuper(CustomForm);function CustomForm(){var _this;_classCallCheck(this,CustomForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={image:null};_this.handleFormSubmit=function(event,requestType,articleID){event.preventDefault();var author=event.target.elements.author.value;var title=event.target.elements.title.value;var content=event.target.elements.content.value;var url=\"http://127.0.0.1:8000/api/\";var form_data=new FormData();form_data.append(\"id\",articleID);form_data.append(\"author\",author);form_data.append(\"title\",title);form_data.append(\"content\",content);if(_this.state.image!=null){form_data.append(\"image\",_this.state.image,_this.state.image.name);}switch(requestType){case\"post\":return axios.post(url,form_data,{headers:{\"content-type\":\"multipart/form-data\"}}).then(function(res){console.log(res.data);}).catch(function(err){return console.log(err);});case\"put\":return axios.put(\"http://127.0.0.1:8000/api/\".concat(articleID,\"/\"),{author:author,title:title,content:content,image:_this.state.selectedFile}).then(function(res){return console.log(res);}).catch(function(error){return console.log(error);});}console.log(\"Hey\");console.log(author,title,content);};_this.fileChangedHandler=function(event){var file=event.target.files[0];_this.setState({image:file});};return _this;}_createClass(CustomForm,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Form,{onSubmit:function onSubmit(event){return _this2.handleFormSubmit(event,_this2.props.requestType,_this2.props.articleID);}},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"Author\"},\" Author \"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"author\",placeholder:\"username\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"Title\"},\" Title \"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"title\",placeholder:\"with a placeholder\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"Content\"},\" Content \"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"content\",placeholder:\"write some content..\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"imageUpload\"},\" Upload your image. \"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"imageUpload\",onChange:this.fileChangedHandler})),/*#__PURE__*/React.createElement(Button,{color:\"primary\",htmlType:\"submit\"},\"Submit\"));}}]);return CustomForm;}(Component);export default CustomForm;","map":{"version":3,"sources":["/home/parth/development/full_stack/djReact/src/components/Create/Form/Form.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","axios","CustomForm","state","image","handleFormSubmit","event","requestType","articleID","preventDefault","author","target","elements","value","title","content","url","form_data","FormData","append","name","post","headers","then","res","console","log","data","catch","err","put","selectedFile","error","fileChangedHandler","file","files","setState","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport axios from \"axios\";\n\nclass CustomForm extends Component {\n  state = {\n    image: null,\n  };\n\n  handleFormSubmit = (event, requestType, articleID) => {\n    event.preventDefault();\n    const author = event.target.elements.author.value;\n    const title = event.target.elements.title.value;\n    const content = event.target.elements.content.value;\n\n    let url = \"http://127.0.0.1:8000/api/\";\n    let form_data = new FormData();\n    form_data.append(\"id\", articleID);\n    form_data.append(\"author\", author);\n    form_data.append(\"title\", title);\n    form_data.append(\"content\", content);\n    if (this.state.image != null) {\n      form_data.append(\"image\", this.state.image, this.state.image.name);\n    }\n\n    switch (requestType) {\n      case \"post\":\n        return axios\n          .post(url, form_data, {\n            headers: {\n              \"content-type\": \"multipart/form-data\",\n            },\n          })\n          .then((res) => {\n            console.log(res.data);\n          })\n          .catch((err) => console.log(err));\n      case \"put\":\n        return axios\n          .put(`http://127.0.0.1:8000/api/${articleID}/`, {\n            author: author,\n            title: title,\n            content: content,\n            image: this.state.selectedFile,\n          })\n          .then((res) => console.log(res))\n          .catch((error) => console.log(error));\n    }\n    console.log(\"Hey\");\n    console.log(author, title, content);\n  };\n\n  fileChangedHandler = (event) => {\n    const file = event.target.files[0];\n    this.setState({\n      image: file,\n    });\n  };\n  render() {\n    return (\n      <Form\n        onSubmit={(event) =>\n          this.handleFormSubmit(\n            event,\n            this.props.requestType,\n            this.props.articleID\n          )\n        }\n      >\n        <FormGroup>\n          <Label for=\"Author\"> Author </Label>\n          <Input type=\"text\" name=\"author\" placeholder=\"username\" />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"Title\"> Title </Label>\n          <Input type=\"text\" name=\"title\" placeholder=\"with a placeholder\" />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"Content\"> Content </Label>\n          <Input\n            type=\"text\"\n            name=\"content\"\n            placeholder=\"write some content..\"\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"imageUpload\"> Upload your image. </Label>\n          <Input\n            type=\"file\"\n            name=\"imageUpload\"\n            onChange={this.fileChangedHandler}\n          />\n        </FormGroup>\n        <Button color=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    );\n  }\n}\n\nexport default CustomForm;\n"]},"metadata":{},"sourceType":"module"}