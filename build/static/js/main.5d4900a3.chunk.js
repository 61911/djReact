(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{46:function(e,t,a){e.exports=a(84)},73:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),c=(a(51),a(9)),i=a(10),s=a(12),u=a(11),m=a(8),p=a(16),d=a(5),h=a(85),g=a(86),f=a(87),E=a(88),v=a(89),b=a(17),y=a.n(b),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={image:null},e.handleFormSubmit=function(t,a,n){t.preventDefault();var r=t.target.elements.author.value,l=t.target.elements.title.value,o=t.target.elements.content.value,c=new FormData;switch(c.append("id",n),c.append("author",r),c.append("title",l),c.append("content",o),null!=e.state.image&&c.append("image",e.state.image,e.state.image.name),a){case"post":return y.a.post("http://127.0.0.1:8000/api/",c,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e)}));case"put":return y.a.put("http://127.0.0.1:8000/api/".concat(n,"/"),{author:r,title:l,content:o,image:e.state.selectedFile}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}console.log("Hey"),console.log(r,l,o)},e.fileChangedHandler=function(t){var a=t.target.files[0];e.setState({image:a})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{onSubmit:function(t){return e.handleFormSubmit(t,e.props.requestType,e.props.articleID)}},r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"Author"}," Author "),r.a.createElement(E.a,{type:"text",name:"author",placeholder:"username"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"Title"}," Title "),r.a.createElement(E.a,{type:"text",name:"title",placeholder:"with a placeholder"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"Content"}," Content "),r.a.createElement(E.a,{type:"text",name:"content",placeholder:"write some content.."})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"imageUpload"}," Upload your image. "),r.a.createElement(E.a,{type:"file",name:"imageUpload",onChange:this.fileChangedHandler})),r.a.createElement(v.a,{color:"primary",htmlType:"submit"},"Submit"))}}]),a}(n.Component),O=function(e){return r.a.createElement(w,{requestType:"post",articleID:null})},T=(a(73),function(e){return r.a.createElement("article",{class:"media content-section"},r.a.createElement("img",{src:e.image,alt:"not found",class:"rounded-circle article-img"}),r.a.createElement("div",{class:"media-body"},r.a.createElement("div",{class:"article-metadata"},r.a.createElement(m.b,{class:"mr-2",to:"#",style:{color:"black"}},e.author),r.a.createElement("small",{class:"text-muted"},e.date_posted)),r.a.createElement("h2",null,r.a.createElement(m.b,{to:"/articles/".concat(e.id)},e.title)),r.a.createElement("p",{class:"article-content"},e.content)))}),j=function(e){return e.data.map((function(e){return r.a.createElement(T,{key:e.id,author:e.author,title:e.title,content:e.content,date_posted:e.date_posted,image:e.image})}))},A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={articles:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("http://127.0.0.1:8000/api/").then((function(t){e.setState({articles:t.data}),console.log(t.data)}))}},{key:"render",value:function(){return r.a.createElement(j,{data:this.state.articles})}}]),a}(n.Component),S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={article:{}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.articleID;y.a.get("http://127.0.0.1:8000/api/".concat(t)).then((function(t){e.setState({article:t.data})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{id:this.state.article.id,author:this.state.article.author,title:this.state.article.title,content:this.state.article.content,date_posted:this.state.article.date_posted,image:this.state.article.image}),r.a.createElement(w,{requestType:"put",articleID:this.props.match.params.articleID}))}}]),a}(n.Component),k=a(91),x=a(90),D=function(e){return{type:"AUTH_SUCCESS",token:e}},_=function(e){return{type:"AUTH_FAIL",error:e}},C=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},I=function(e){return function(t){setTimeout((function(){t(C())}),1e3*e)}},U=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).submitHandler=function(t){t.preventDefault();var a=t.target.elements.username.value,n=t.target.elements.password.value;e.props.error||e.props.onAuth(a,n),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=null;return this.props.error&&(e=r.a.createElement(k.a,{color:"danger"},this.props.error.message)),r.a.createElement("div",null,e,this.props.loading?r.a.createElement(x.a,{animation:"grow"}):r.a.createElement(h.a,{onSubmit:this.submitHandler},r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"text"},"username"),r.a.createElement(E.a,{type:"text",name:"username",placeholder:"enter your username"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"examplePassword"},"Password"),r.a.createElement(E.a,{type:"password",name:"password",id:"examplePassword",placeholder:"Enter your password"})),r.a.createElement(v.a,{htmlType:"submit"},"Submit"),r.a.createElement("div",{class:"pt-3"},r.a.createElement("small",{class:"text-muted"},"Need An Account?",r.a.createElement(m.b,{class:"ml-2",to:"/signup/"},"Sign Up Now")))))}}]),a}(n.Component),H=Object(p.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),y.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:t}).then((function(e){var t=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",n),a(D(t)),a(I(3600))})).catch((function(e){a(_(e))}))}}(t,a))}}}))(U),P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).submitHandler=function(t){t.preventDefault();var a=t.target.elements.username.value,n=t.target.elements.email.value,r=t.target.elements.password1.value,l=t.target.elements.password2.value;e.props.error||e.props.onAuth(a,n,r,l),e.props.history.push("/"),console.log(a,n,r,l)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=null;return this.props.error&&(e=r.a.createElement(k.a,{color:"danger"},this.props.error.message)),r.a.createElement("div",null,e,r.a.createElement(h.a,{onSubmit:this.submitHandler},r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"text"},"username"),r.a.createElement(E.a,{type:"text",name:"username",placeholder:"enter your username"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"email"},"email"),r.a.createElement(E.a,{type:"email",name:"email",id:"email",placeholder:"Enter your E-mail"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"examplePassword1"},"Password"),r.a.createElement(E.a,{type:"password",name:"password1",id:"examplePassword1",placeholder:"Enter your password"})),r.a.createElement(g.a,null,r.a.createElement(f.a,{for:"examplePassword2"},"confirm Password"),r.a.createElement(E.a,{type:"password",name:"password2",id:"examplePassword2",placeholder:"confirm your password"})),r.a.createElement(v.a,{htmlType:"submit"},"Submit"),r.a.createElement("div",{class:"pt-3"},r.a.createElement("small",{class:"text-muted"},"Already have An Account?",r.a.createElement(m.b,{class:"ml-2",to:"/login/"},"Login Now")))))}}]),a}(n.Component),L=Object(p.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),y.a.post("http://127.0.0.1:8000/rest-auth/registration/",{username:e,email:t,password1:a,password2:n}).then((function(e){var t=e.data.key,a=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),r(D(t)),r(I(3600))})).catch((function(e){r(_(e))}))}}(t,a,n,r))}}}))(P),F=function(){return r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:A}),r.a.createElement(d.a,{exact:!0,path:"/login/",component:H}),r.a.createElement(d.a,{exact:!0,path:"/create/",component:O}),r.a.createElement(d.a,{exact:!0,path:"/articles/:articleID/",component:S}),r.a.createElement(d.a,{exact:!0,path:"/signup/",component:L}))},N=(a(82),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-expand-md navbar-dark bg-steel fixed-top"},r.a.createElement("div",{class:"container"},r.a.createElement(m.b,{class:"navbar-brand mr-4",to:"/"},"Django React Blog"),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarToggle"},r.a.createElement("div",{class:"navbar-nav mr-auto"},r.a.createElement(m.b,{class:"nav-item nav-link",to:"/",style:{color:"#cbd5db"}},"Home"),r.a.createElement(m.b,{class:"nav-item nav-link",to:"/create/",style:{color:"#cbd5db"}},"create")),this.props.isAuthenticated?r.a.createElement(m.b,{class:"nav-item nav-link",to:"/",style:{color:"#cbd5db"},onClick:this.props.logout},"Logout"):r.a.createElement(m.b,{class:"nav-item nav-link",to:"/login/",style:{color:"#cbd5db"}},"Login")))))}}]),a}(n.Component)),R=Object(p.b)(null,(function(e){return{logout:function(){return e(C())}}}))(N),M=(a(83),function(e){return r.a.createElement("div",{class:"help"},r.a.createElement("h3",null,"Our Sidebar"),r.a.createElement("p",{class:"text-muted"},"You can put any information here you'd like."),r.a.createElement("ul",{class:"list-group"},r.a.createElement("li",{class:"list-group-item list-group-item-light"},"Latest Posts"),r.a.createElement("li",{class:"list-group-item list-group-item-light"},"Announcements"),r.a.createElement("li",{class:"list-group-item list-group-item-light"},"Calendars"),r.a.createElement("li",{class:"list-group-item list-group-item-light"},"etc")))}),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(R,this.props),r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement(F,null)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement(M,null)))))}}]),a}(n.Component),B=Object(p.b)((function(e){return{isAuthenticated:null!=e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(C());else{var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(C()):(e(D(t)),e(I((a.getTime()-(new Date).getTime())/1e3)))}}))}}}))(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(20),J=a(45),W=a(28),X=function(e,t){return Object(W.a)(Object(W.a)({},e),t)},V={token:null,error:null,loading:null},Y=function(e,t){return X(e,{error:null,loading:!0})},$=function(e,t){return X(e,{token:t.token,error:null,loading:!1})},z=function(e,t){return X(e,{error:t.error,loading:!1})},K=function(e,t){return X(e,{token:null})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Y(e);case"AUTH_SUCCESS":return $(e,t);case"AUTH_FAIL":return z(e,t);case"AUTH_LOGOUT":return K(e);default:return e}},Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.c,ee=Object(G.d)(Q,Z(Object(G.a)(J.a))),te=r.a.createElement(p.a,{store:ee},r.a.createElement(B,null));o.a.render(te,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.5d4900a3.chunk.js.map